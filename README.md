# Aviutl Kanzenshuryo

Aviutlをプロセスが残らないように、完全に終了させるためのプラグインです。

***

## 概要

このプラグインは、Aviutlが応答しなくなった場合や、終了したように見えてもバックグラウンドでプロセスが残ってしまう問題を解決するために開発しました。

「設定」メニューに機能を追加し、キーボードショートカット（デフォルト: `Ctrl+Alt+Q`）またはメニュー項目からAviutlの完全終了を即座に実行できます。通常の終了処理を試みた後、設定した時間（デフォルト: 5秒）を経過してもプロセスが終了しない場合、ヘルパープロセスがAviutlを強制的に終了させます。

***

## 主な機能

* Aviutlのプロセスを確実に終了させます。
* 独立したヘルパープロセス(`KanzenShuryoHelper.exe`)が終了を監視します。
* キーボードショートカットによる即時実行（デフォルト: `Ctrl+Alt+Q`）。
* 通常の終了リクエストで終了しない場合、指定した時間（デフォルト5秒）が経過するとプロセスを強制終了します。
* 終了待機時間やログ保存の有無を設定画面から変更できます。
* 動作の記録を`plugins`フォルダ内に`KanzenShuryo.log`として保存します（設定でON/OFF可能）。

***

## 導入方法

1.  GitHubのReleasesページから最新版の`.zip`ファイルをダウンロードします。
2.  ダウンロードしたzipファイルを解凍します。
3.  中の`KanzenShuryo.auf`と`KanzenShuryoHelper.exe`の2つのファイルを、Aviutlの`plugins`フォルダにコピーしてください。

***

## 使用方法

### 実行方法

以下のいずれかの方法でAviutlを完全終了させることができます。

#### 方法1：キーボードショートカット（推奨）

* デフォルトのショートカットキー `Ctrl + Alt + Q` を押します。

#### 方法2：メニューから実行

1.  Aviutlのメインメニューから「**編集**」を選択します。
2.  表示されたプラグインリストから「**完全終了**」にカーソルを合わせます。
3.  サブメニューの「**今すぐ実行**」を選択します。

### 設定の変更

1.  Aviutlのメインメニューから「**設定**」を選択します。
2.  設定ダイアログが開き、以下の項目を変更できます。
    * **終了待機時間 (ms)**: 通常の終了リクエスト後、強制終了するまで待機する時間。
    * **ログを保存する**: チェックを入れると、動作ログを保存します。

#### ショートカットキーの変更

デフォルトの`Ctrl + Alt + Q`は、Aviutlの機能で変更できます。

1.  `ファイル` > `環境設定` > `ショートカットキーの設定` を開きます。
2.  項目から`[完全終了] 今すぐ実行`を探し、お好みのキーを割り当ててください。
